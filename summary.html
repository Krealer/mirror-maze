<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mirror Maze - Summary</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="summary">
    <p>Thanks for playing. Your journey has been recorded.</p>
  </div>
  <script>
    const emotions = JSON.parse(localStorage.getItem('emotions') || '{}');
    const dominant = localStorage.getItem('dominantEmotion');
    if (dominant) {
      document.body.classList.add(`emotion-${dominant}`);
      const msg = document.createElement('p');
      msg.textContent = `You journeyed with ${dominant} as your guide.`;
      document.getElementById('summary').appendChild(msg);
    }

    const flashbacks = JSON.parse(localStorage.getItem('triggeredFlashbacks') || '[]');
    if (flashbacks.length) {
      const labels = { hallway: 'The Hallway', promise: 'The Promise' };
      const wrap = document.createElement('p');
      wrap.textContent = 'You remembered: ' + flashbacks.map(id => labels[id] || id).join(', ') + '.';
      document.getElementById('summary').appendChild(wrap);
    }
  </script>
</body>
</html>
